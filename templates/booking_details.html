{% extends "base.html" %}

{% block title %}Booking Details - TravelEase{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4">Booking Details</h2>

    <div class="card mb-4">
        <div class="card-body">
            <p><strong>Booking ID:</strong> {{ booking.id }}</p>
            <p><strong>Trip ID:</strong> {{ booking.trip_id }}</p>
            <p><strong>Seats:</strong> {{ seats | join(", ") }}</p>
            <p><strong>Payment Method:</strong> {{ booking.payment_method }}</p>
            <p><strong>Booking Date:</strong> {{ booking.booking_date.strftime('%Y-%m-%d %H:%M') }}</p>
        </div>
    </div>

    <h4 class="mb-3">Your Review</h4>
    <form method="POST">
        <div class="mb-3">
            <label for="rating" class="form-label"><strong>Rating:</strong></label>
            <select name="rating" id="rating" class="form-select" required>
                <option value="">Select rating</option>
                {% for i in range(1, 6) %}
                    <option value="{{ i }}" {% if review and review.rating == i %}selected{% endif %}>{{ i }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="mb-3">
            <label for="comment" class="form-label"><strong>Comment:</strong></label>
            <textarea name="comment" id="comment" class="form-control" rows="4" placeholder="Write your feedback...">{{ review.comment if review else '' }}</textarea>
        </div>

        <button type="submit" class="btn btn-primary">Submit Review</button>
    </form>

    <div class="mt-4 text-center">
        <a href="{{ url_for('dashboard.my_bookings') }}" class="btn btn-secondary">Back to My Bookings</a>
    </div>
</div>
{% endblock %}
